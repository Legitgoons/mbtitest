<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <title>8ballmafia-mbti</title>
</head>
<body class = "container"> <!--부트스트랩에서 그리드 사용시 쓰는 클래스(자동으로 그리드 처리)-->
    <article class = "start">
        <img src="8balltown.jfif" class="rounded mx-auto d-block" >
        <h1 class="mt-5 text-center">나랑 Mbti가 같은 8Ball Town 멤버는?</h1> 
        <button type="button" class="btn btn-primary" onclick='start();'>테스트 시작!</button>
    </article> 
    <article class = "question">
        <div class="progress mt-5">
            <div class="progress-bar" role="progressbar" style="width: calc(100/12*1%)"></div>
        </div>
        </div>
        <h2 id = "title" class="text-center mt-5">문제</h2>
        <input id="type" type="hidden" value="EI">
        <button id="A" type="button" class="btn btn-primary">Primary</button>
        <button id="B" type="button" class="btn btn-primary">Primary</button>
    </article>
    <input type = "hidden" id = "EI" value = "0">
    <input type = "hidden" id = "SN" value = "0">
    <input type = "hidden" id = "TF" value = "0">
    <input type = "hidden" id = "JP" value = "0">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
    <script>
        var num = 1;
        var q = { // 객체 생성 
            1: {"title" : "문제 1번", "type" : "EI", "A" : "E", "B" : "I"},
            2: {"title" : "문제 2번", "type" : "EI", "A" : "E", "B" : "I"},
            3: {"title" : "문제 3번", "type" : "EI", "A" : "E", "B" : "I"}
        }
        function start() { //$는 jquery 사용
           $(".start").hide(); // 버튼을 클릭하면 start클래스가 숨겨짐(jquery 사용)
           $(".question").show();
           next(); // 시작과 동시에 문제가 나오도록 설정
        }
        $("#A").click(function() { // #은 id의미
            var type = $("#type").val(); // jquery를 이용, type값을 가져와서 변수에 저장
            var preValue = $("#"+type).val();
            $("#"+type).val(parseInt(preValue)+1); // value에 +1해서 넣기
            next(); 
        });
        $("#B").click(function() { 
            next(); 
        });
        function next () {
            $(".progress-bar").attr('style', 'width: calc(100/12*'+num+'%)');
            $("#title").html(q[num]["title"]);
            $("#type").val(q[num]["type"]);
            $("#A").html(q[num]["A"]);
            $("#B").html(q[num]["B"]);
            num++; // 다음문제로 넘어가도록
        }
    </script>
</body>
</html>